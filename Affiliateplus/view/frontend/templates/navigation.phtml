<?php

/**
 * Magestore.
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Magestore.com license that is
 * available through the world-wide-web at this URL:
 * http://www.magestore.com/license-agreement.html
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    Magestore
 * @package     Magestore_Affiliateplus
 * @copyright   Copyright (c) 2012 Magestore (http://www.magestore.com/)
 * @license     http://www.magestore.com/license-agreement.html
 */
/** @var $block \Magestore\Affiliateplus\Block\Account\Navigation */
?>
<?php
$store_id = $this->getStoreId();
$check_responsvie = $block->getResponsiveEnable($store_id);
?>

<div class="navbar-default affiliate-navigation col-lg-3 col-md-3 <?php if ($check_responsvie): ?>hidden-sm hidden-xs<?php else: ?>col-sm-3 col-xs-3<?php endif; ?> " role="navigation">
    <div class="container-fluid">

        <div class="collapse1 navbar-collapse-aff" id="nav-aff" >
            <div class="block-title-aff">
                <h2><?php echo $block->getNavigationTitle(); ?></h2>
            </div>
            <div class="navigation-content">
                <ul class="nav"  id="affiliateplus-navigation-<?php echo $block->getNameInLayout() ?>">
                    <?php $_links = $this->getLinks(); ?>
                    <?php foreach ($_links as $_link): ?>
                        <?php if ($_link->getDisabled()) continue; ?>
                        <?php if ($block->isActive($_link)): ?>
                            <li class="active"><a><?php echo $_link->getLabel() ?></a></li>
                        <?php else: ?>
                            <li><a href="<?php echo $_link->getUrl() ?>"><?php echo $_link->getLabel() ?></a></li>
                        <?php endif; ?>
                    <?php endforeach; ?>
                </ul>
                <script type="text/javascript">
                        require(
                            [
                                'prototype'
                            ], function(){
                                decorateGeneric($('affiliateplus-navigation-<?php echo $this->getNameInLayout() ?>').childElements(), ['last']);
                            });
                </script>
            </div>
        </div>
    </div>
    <a class="navbar-hidden" style="cursor:pointer">&nbsp;</a>
</div>
<script type="text/javascript">
    require(
        [
            'jquery'
        ], function($){
            $(document).ready(function () {
                $('.navbar-hidden').bind('click', function () {
                    if ($('.aff-mobile').hasClass('active')) {
                        $('.aff-mobile').removeClass('active');
                        $('#navi-bg').hide();
                    } else {
                        $('.aff-mobile').addClass('active');
                        $('#navi-bg').show();
                    }
                });

            });
        });

</script>